function fireEvent(n,t){var r,u,f,i;if(n.ownerDocument)r=n.ownerDocument;else if(n.nodeType==9)r=n;else throw new Error("Invalid node passed to fireEvent: "+n.id);if(n.dispatchEvent){u="";switch(t){case"click":case"mousedown":case"mouseup":u="MouseEvents";break;case"focus":case"change":case"blur":case"select":u="HTMLEvents";break;default:throw"fireEvent: Couldn't find an event class for event '"+t+"'.";}i=r.createEvent(u);f=t=="change"?!1:!0;i.initEvent(t,f,!0);i.synthetic=!0;n.dispatchEvent(i,!0)}else n.fireEvent&&(i=r.createEventObject(),i.synthetic=!0,n.fireEvent("on"+t,i))}function delay(){return new Promise(n=>setTimeout(n,20))}async function clickBlockDetail(n){const t=n.getAttribute("aria-checked"),r=n.getAttribute("data"),i=document.getElementById(r);if(t==="false"){const t=i.tBodies[0].rows;for(let n of t)n.style.display="",await delay();n.setAttribute("aria-checked","true")}if(t==="true"){let t=0;const r=i.tBodies[0].rows;for(let n of r)t++,n.style.display=r.length-t>1?"none":"",await delay();n.setAttribute("aria-checked","false")}}class LocaleDTP{constructor(){this.lang=document.getElementById("index-dtp-locale-lang").value;this.mask=document.getElementById("index-dtp-locale-mask").value;this.format=document.getElementById("index-dtp-locale-format").value}}const snackbar=new mdc.snackbar.MDCSnackbar(document.getElementById("main-snack")),MainShowSnackBar=(n,t=false)=>{const i=document.getElementById("main-snack");if(i.classList.add("mdc-snackbar--open"),snackbar.labelText=n,t){snackbar.timeoutMs=1e4;const n=i.querySelector(".mdc-snackbar__surface");n.style.backgroundColor="darkred"}snackbar.open()},newGuid=()=>([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,n=>(n^crypto.getRandomValues(new Uint8Array(1))[0]&15>>n/4).toString(16)),rippleFor=n=>{const t=document.querySelectorAll(n);return t.forEach(n=>{const t=new mdc.ripple.MDCRipple(n);t.unbounded=!0}),!0},ListenerForDataHref=()=>{const n=document.querySelectorAll("[mtd-data-url]");n.forEach(n=>{n.addEventListener("click",()=>{ActionShowModal(!0);let t=n.getAttribute("mtd-data-url");t=window.location.origin+appName.value+t;const i=n.getAttribute("mtd_data_href-target");i?(setTimeout(()=>{window.open(t,i)},500),ActionShowModal()):setTimeout(()=>{window.location.href=t},500)})})},CreateFormData=n=>{for(var i=new FormData,t=0;t<n.length;t++)n[t].getAttribute("type")=="checkbox"?i.append(n[t].name,n[t].checked):i.append(n[t].name,n[t].value),n[t].files&&n[t].files.length>0&&i.append(n[t].name,n[t].files[0],n[t].files[0].name);return i},ListenerClickerBy=()=>{const n=document.querySelectorAll("[mtd-data-clicker-by]");n.forEach(n=>{const t=n.getAttribute("mtd-data-clicker-by");n.addEventListener("click",()=>{document.getElementById(t).click()})})},ListenerForPostData=()=>{const n=document.querySelectorAll("form[mtd-data-form]");n.forEach(n=>{const i=n.querySelector("input[mtd-data-result]");let t=n.getAttribute("action");t||(t="");const r=n.querySelectorAll("[mtd-data-clicker]"),u=n.querySelectorAll("input[mtd-input-clicker]");r.forEach(r=>{const u=r.getAttribute("mtd-data-clicker"),f=r.getAttribute("mtd-data-location"),e=r.getAttribute("mtd-data-message");r.addEventListener("click",()=>{const o=n.reportValidity();if(!o)return!1;ActionShowModal(!0);u&&(i.value=u);const s=CreateFormData(n),r=new XMLHttpRequest;r.responseType="json";r.open("post",t,!0);r.send(s);r.onreadystatechange=function(){r.readyState==4&&r.status==200&&(e&&sessionStorage.setItem("Message",e),f?document.location=f:document.location.reload());r.status==400&&setTimeout(()=>{ActionShowModal(),MainShowSnackBar(r.response.value,!0)},1e3);r.status==500&&setTimeout(()=>{ActionShowModal(),MainShowSnackBar("500 Internal Server Error",!0)},1e3)}})});u.forEach(i=>{const r=i.getAttribute("mtd-data-location"),u=i.getAttribute("mtd-data-message");i.addEventListener("keydown",i=>{var f,e;if(i.keyCode===13){const o=n.reportValidity();if(!o)return!1;i.preventDefault();ActionShowModal(!0);f=new XMLHttpRequest;f.responseType="json";f.open("post",t,!0);e=CreateFormData(n);f.send(e);f.onreadystatechange=function(){f.readyState==4&&f.status==200&&(u&&sessionStorage.setItem("Message",u),r?document.location=r:document.location.reload());f.status==400&&setTimeout(()=>{ActionShowModal(),MainShowSnackBar(f.response.value,!0)},1e3);f.status==500&&setTimeout(()=>{ActionShowModal(),MainShowSnackBar("500 Internal Server Error",!0)},1e3)}}})})})},ActionShowModal=n=>{const t=n?"block":"none";document.getElementById("mainModal").style.display=t},ListenerForAction=()=>{const t=document.getElementById("main-action-button"),n=document.getElementById("main-action-menu");if(n){const i=new mdc.menu.MDCMenu(n);i.setFixedPosition(!0);t.addEventListener("click",()=>{i.open=!0})}},DetectMobile=()=>{(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(document.body.style.height="")};DetectMobile();sessionStorage.getItem("Message")&&(MainShowSnackBar(sessionStorage.getItem("Message")),sessionStorage.removeItem("Message"));sessionStorage.getItem("ErrorMessage")&&(MainShowSnackBar(sessionStorage.getItem("ErrorMessage"),!0),sessionStorage.removeItem("ErrorMessage"));ListenerForAction();rippleFor(".mdc-checkbox");rippleFor(".mdc-icon-button");rippleFor(".mdc-list-item");rippleFor(".mdc-fab");rippleFor(".mdc-button");rippleFor(".mdc-card__primary-action");const toggleButtons=document.querySelectorAll(".mdc-icon-button");toggleButtons.forEach(n=>{new mdc.iconButton.MDCIconButtonToggle(n)});const drawer=mdc.drawer.MDCDrawer.attachTo(document.querySelector(".mdc-drawer")),topAppBar=mdc.topAppBar.MDCTopAppBar.attachTo(document.getElementById("app-bar"));topAppBar.listen("MDCTopAppBar:nav",()=>{drawer.open=!drawer.open});const url=window.location.href.toLowerCase();var mainMenuItems=document.querySelectorAll("a[name='mainMenuItem']"),notSelected=!0,cssActivated="mdc-list-item--activated";mainMenuItems.forEach((n,t)=>{url.includes(n.href.toLowerCase())&&t!==0&&(n.classList.add(cssActivated),notSelected=!1)});notSelected&&mainMenuItems[0].classList.add(cssActivated);ListenerForDataHref();ListenerForPostData();ListenerClickerBy();const mainUserButton=document.getElementById("main-user-button");if(mainUserButton){const n=new mdc.menuSurface.MDCMenuSurface(document.getElementById("main-user-menu"));n.setFixedPosition(!0);mainUserButton.addEventListener("click",()=>{n.open()})}const mainAppsButton=document.getElementById("main-apps-button");if(mainAppsButton){const n=new mdc.menuSurface.MDCMenuSurface(document.getElementById("main-apps-menu"));n.setFixedPosition(!0);mainAppsButton.addEventListener("click",()=>{n.open()})}const clickBlockFullScreen=n=>{const i=n.getAttribute("data"),t=document.getElementById(i);t.classList.toggle("mtd-desk-block-content--full");t.classList.contains("mtd-desk-block-content--full")?setTimeout(()=>BodyShowHide(t),500):BodyShowHide(t)},clickBlockToogle=n=>{const t=n.getAttribute("data"),i=document.getElementById(t);i.classList.toggle("mtd-desk-block-content--colapsed")},BodyShowHide=n=>{n.querySelector(".mtd-desk-block-body--hidden").classList.toggle("mtd-main-display-none")},fabs=document.querySelectorAll(".mtd-fab");fabs&&fabs.forEach(n=>{n.addEventListener("mouseover",()=>{n.querySelector(".mdc-fab__label").classList.toggle("mtd-main-display-none"),n.classList.toggle("mdc-fab--extended")}),n.addEventListener("mouseout",()=>{n.classList.toggle("mdc-fab--extended"),n.querySelector(".mdc-fab__label").classList.toggle("mtd-main-display-none")})});let dragSrcEl=null,dragVaule=!1;const handleDragStart=n=>{dragVaule=n.target.attributes.getNamedItem("aria-checked").nodeValue,dragSrcEl=n.target,n.dataTransfer.setDragImage(new Image,0,0),n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text/html",n.target.outerHTML)},handleDragOver=n=>(n.preventDefault&&n.preventDefault(),n.target.classList.add("over"),n.dataTransfer.dropEffect="move",!1),handleDragEnter=()=>{},handleDragLeave=n=>{n.target.classList.remove("over")},handleDrop=n=>{var i,t;if(n.stopPropagation&&n.stopPropagation(),dragSrcEl!=n.target&&(n.target.parentNode.removeChild(dragSrcEl),i=n.dataTransfer.getData("text/html"),n.target.insertAdjacentHTML("beforebegin",i),t=n.target.previousSibling,t.className="mdc-list-item",new mdc.ripple.MDCRipple(t),addDnDHandlers(t),dragVaule==="true")){const n=t.getAttribute("data-value"),i=document.getElementById(`${n}-lc`);t.setAttribute("aria-checked","true");i.checked=!0}return n.target.classList.remove("over"),!1},handleDragEnd=n=>{n.target.classList.remove("over");dragSrcEl=null;const t=document.querySelector("[mtd-data-form='sequence']");if(t){let n="";const i=document.querySelector("[mtd-data-draggable]"),r=t.querySelector("[mtd-data-clicker]"),u=t.querySelector("[mtd-data-sequence]");i.querySelectorAll("[data-value]").forEach(t=>{const i=t.getAttribute("data-value");n+=`${i}&`});u.value=n;r.click()}},OnClickFilterColumn=n=>{if(dragSrcEl)return!1;const t=n.currentTarget,r=t.getAttribute("data-value"),u=t.getAttribute("aria-checked"),i=document.getElementById(`${r}-lc`);t.setAttribute("aria-checked",u==="true"?"false":"true");i.checked=!i.checked},addDnDHandlers=n=>{n.addEventListener("dragstart",handleDragStart,!1),n.addEventListener("dragover",handleDragOver,!1),n.addEventListener("dragleave",handleDragLeave,!1),n.addEventListener("drop",handleDrop,!1),n.addEventListener("dragend",handleDragEnd,!1)},cols=document.querySelectorAll("[mtd-data-draggable] .mdc-list-item");[].forEach.call(cols,addDnDHandlers);class MTDSelectList{constructor(n){this.div=document.getElementById(n);this.div&&(this.selector=new mdc.select.MDCSelect(document.getElementById(n)),this.input=document.getElementById(`${n}-input`),this.input.value=this.selector.value,this.lis=document.getElementById(`${n}-ul`).getElementsByTagName("li"),this.selector.listen("MDCSelect:change",()=>{this.input.value=this.selector.value}),this.itemTemplate=document.getElementById("mtd-select-list-helper-item"));const t=document.getElementById(`${n}-search`);t&&t.addEventListener("keyup",n=>{if(n.target.value==="")for(let n of this.lis)n.style.display="";if(n.target.value!=="")for(let t of this.lis)if(t.dataset.value!="search-li"){const i=t.querySelector(".mdc-list-item__text").innerText;t.style.display=i.toUpperCase().includes(n.target.value.toUpperCase())?"":"none"}})}AddItem(n,t,i=false){const f=this.itemTemplate.querySelector("li");let r=f.cloneNode(!0);r.setAttribute("data-value",n);const o=new mdc.ripple.MDCRipple(r);let e=r.querySelector(".mdc-list-item__text");e.textContent=t;const u=this.div.querySelector(".mdc-list");if(u.appendChild(r),i){const n=u.getElementsByTagName("li").length;this.selector.selectedIndex=n-1}}RemoveItems(){this.selector.selectedIndex=-1;const n=this.div.querySelector(".mdc-list");for(n.innerHTML="";n.firstChild;)n.removeChild(n.firstChild)}}class MTDTextField{constructor(n){this.base=document.getElementById(n);this.base&&(this.textField=new mdc.textField.MDCTextField(this.base),this.input=document.getElementById(`${n}-input`),this.input.addEventListener("invalid",()=>{this.input.setCustomValidity(" "),this.textField.valid=!1}),this.input.addEventListener("change",()=>{this.input.setCustomValidity(""),this.textField.valid=!0}),this.input.addEventListener("input",()=>{this.input.setCustomValidity(""),this.textField.valid=!0}))}}document.querySelectorAll("[mtd-dialog-button]").forEach(n=>{const u=n.getAttribute("mtd-dialog-button"),i=document.getElementById("main-scrim"),t=document.getElementById(u),r=document.getElementById("drawer-frame-app-content");n.addEventListener("click",()=>{t.classList.remove("mtd-dialog-hidden");i.style.display="block";document.body.style.overflow="-moz-scrollbars-vertical";document.body.style.overflowY="scroll";document.body.style.height="100vh";r.classList.remove("drawer-frame-app-content");const n=t.querySelector(".mtd-focus-control");if(n)n.focus();else{const n=t.querySelector(".mdc-text-field--textarea");n&&n.focus()}});t.querySelectorAll("[mtd-dialog-cancel]").forEach(n=>{n.addEventListener("click",()=>{t.classList.add("mtd-dialog-hidden"),i.style.display="",document.body.style.overflow="hidden",document.body.style.overflowY="",document.body.style.height="",r.classList.add("drawer-frame-app-content")})});t.querySelectorAll("[mtd-dialog-apply]").forEach(n=>{n.addEventListener("click",n=>{const u=n.path.filter(n=>n.nodeName==="FORM");if(u[0]){const n=u[0].reportValidity();if(!n)return!1}t.classList.add("mtd-dialog-hidden");i.style.display="";document.body.style.overflow="hidden";document.body.style.overflowY="";document.body.style.height="";r.classList.add("drawer-frame-app-content")})})});const StoreListRequest=n=>{ActionShowModal(!0);const t=document.getElementById(`${n}-form`),i=CreateFormData(t);fetch(t.action,{method:t.method,body:i}).then(n=>n.json()).then(t=>{document.getElementById(`${n}-form-img`).value=t.formImg,StoreListCreateTable(t,n),ActionShowModal(!1)})},StoreListCreateTable=(n,t)=>{var i,r,u,f,v,o,p,s,h,c,l,a,e,w,b,k;const y=document.getElementById(`${t}-table-area`);for(y.innerHTML="",i=document.createElement("table"),r=document.createElement("thead"),i.appendChild(r),u=document.createElement("tr"),r.appendChild(u),f=0;f<n.columns.length;f++)v=document.createElement("th"),e=document.createTextNode(n.columns[f]),v.appendChild(e),u.appendChild(v);for(r.appendChild(u),i.appendChild(r),o=document.createElement("tbody"),i.appendChild(o),p=n.store.count>10?10:n.store.length,s=0;s<p;s++){for(h=document.createElement("tr"),h.addEventListener("click",i=>{var r=i.path.filter(n=>n.nodeName==="TR"),u=r[0].cells[0].children[0].innerText,f=r[0].cells[1].children[0].innerText;StoreListClickRow(t,u,n.formName,f,r)}),c=0;c<n.columns.length;c++)l=document.createElement("td"),a=document.createElement("div"),l.appendChild(a),e=document.createTextNode(n.store[s].fields[c].value),a.appendChild(e),l.appendChild(a),h.appendChild(l);o.appendChild(h)}w=document.getElementById(`${t}-page-line`);w.innerText=n.pageLine;b=document.getElementById(`${t}-page-number`);b.value=n.pageNumber;k=document.getElementById(`${t}-page-count`);k.value=n.pageCount;i.appendChild(o);y.appendChild(i)},StoreListPageNavFirst=n=>{var t=document.getElementById(`${n}-page-number`);if(t.value==="1")return!1;t.value=1;StoreListRequest(n)},StoreListPageNavPrev=n=>{var t=document.getElementById(`${n}-page-number`),i;if(t.value==="1")return!1;i=parseInt(t.value);t.value=--i;StoreListRequest(n)},StoreListPageNavNext=n=>{var t=document.getElementById(`${n}-page-number`),r=document.getElementById(`${n}-page-count`),i;if(t.value===r.value)return!1;i=parseInt(t.value);t.value=++i;StoreListRequest(n)},StoreListPageNavLast=n=>{var t=document.getElementById(`${n}-page-number`),i=document.getElementById(`${n}-page-count`);if(t.value===i.value)return!1;t.value=i.value;StoreListRequest(n)},StoreListClickRow=(n,t,i,r,u)=>{document.getElementById(`${n}-selected-id`).value=t,u[0].style.backgroundColor="#EAEDED",setTimeout(()=>u[0].style.backgroundColor="white",300),UpdateTarget(n,t),UpdateViewer(n,i,r)},StoreListClearSelected=n=>{document.getElementById(`${n}-selected-id`).value="",UpdateTarget(n,""),UpdateViewer(n)},StoreListClearFilter=n=>{document.getElementById(`${n}-search-number-input`).value="",document.getElementById(`${n}-search-text-input`).value="",document.getElementById(`${n}-page-number`).value="1",StoreListClearSelected(n),StoreListRequest(n)},UpdateViewer=(n,t,i)=>{if(document.getElementById(`${n}-viewer-form-name`).innerText=t===undefined?"":t,document.getElementById(`${n}-viewer`).style.backgroundColor="#EAEDED",setTimeout(()=>document.getElementById(`${n}-viewer`).style.backgroundColor="white",300),i){var r=document.getElementById(`${n}-form-img`).value;document.getElementById(`${n}-viewer-img`).src=r;const t=document.getElementById(`${n}-selected-id`).value;document.getElementById(`${n}-viewer-on`).innerHTML=`<a href="/workplace/store/details?id=${t}" target="_blank">${i}</a>`;document.getElementById(`${n}-viewer-on`).style.display="";document.getElementById(`${n}-viewer-off`).style.display="none"}else document.getElementById(`${n}-viewer-on`).innerText="",document.getElementById(`${n}-viewer-on`).style.display="none",document.getElementById(`${n}-viewer-img`).src="",document.getElementById(`${n}-viewer-off`).style.display=""},UpdateTarget=(n,t)=>{const i=document.getElementById(`${n}-selected-target`).value;document.getElementById(i).value=t},sls=document.querySelectorAll("[mtd-store-list]");sls&&sls.forEach(n=>{const t=n.getAttribute("mtd-store-list"),f=document.getElementById(`${t}-selected-id`).value;UpdateTarget(t,f);const i=new MTDTextField(`${t}-search-number`),r=new MTDTextField(`${t}-search-text`),u=document.getElementById(`${t}-form`);i.input.addEventListener("keydown",n=>{if(n.keyCode==13){r.textField.value="";i.input.blur();const n=u.reportValidity();if(!n)return!1;StoreListRequest(t)}});r.input.addEventListener("keydown",n=>{if(n.keyCode==13){i.textField.value="";r.input.blur();const n=u.reportValidity();if(!n)return!1;StoreListRequest(t)}});var e=new MTDSelectList(`${t}-form-id`);e.selector.listen("MDCSelect:change",()=>{var n=document.getElementById(`${t}-page-number`);n.value="1";StoreListRequest(t)})});